(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[393],{1966:function(e,n,t){Promise.resolve().then(t.bind(t,2711))},2711:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var a=t(7437),s=t(2265),c=t(3102),r=t(495),i=t(6264);function l(){let[e,n]=(0,s.useState)([]),[t,l]=(0,s.useState)(""),[o,u]=(0,s.useState)("0"),[d,f]=(0,s.useState)([]),m=async()=>{let e=await (0,i.S)("/admin/plans");n((await e.json()).plans||[])};(0,s.useEffect)(()=>{m()},[]);let h=async()=>{await (0,i.S)("/admin/plans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,price:parseFloat(o||"0"),currency:"BRL",modules:d})}),l(""),u("0"),f([]),await m()};return(0,a.jsxs)("main",{className:"p-8 space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Planos"}),(0,a.jsxs)("div",{className:"space-y-2 max-w-md",children:[(0,a.jsx)(c.I,{value:t,onChange:e=>l(e.target.value),placeholder:"Nome do plano"}),(0,a.jsx)(c.I,{value:o,onChange:e=>u(e.target.value),placeholder:"Pre\xe7o"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(r.z,{onClick:()=>f(e=>e.includes("screen")?e.filter(e=>"screen"!==e):[...e,"screen"]),children:"Tel\xe3o"}),(0,a.jsx)(r.z,{onClick:()=>f(e=>e.includes("feed")?e.filter(e=>"feed"!==e):[...e,"feed"]),children:"Feed"})]}),(0,a.jsx)(r.z,{onClick:h,children:"Salvar plano"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[e.map(e=>(0,a.jsxs)("div",{className:"border rounded p-3",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.currency," ",e.price]}),(0,a.jsxs)("div",{className:"text-sm",children:["M\xf3dulos: ",e.modules.join(", ")]})]},e.id)),!e.length&&(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Sem planos."})]})]})}},495:function(e,n,t){"use strict";t.d(n,{z:function(){return s}});var a=t(7437);function s(e){let{className:n="",...t}=e;return(0,a.jsx)("button",{className:"px-4 py-2 rounded bg-black text-white ".concat(n),...t})}},3102:function(e,n,t){"use strict";t.d(n,{I:function(){return s}});var a=t(7437);function s(e){let{className:n="",...t}=e;return(0,a.jsx)("input",{className:"w-full border rounded px-3 py-2 ".concat(n),...t})}},6264:function(e,n,t){"use strict";t.d(n,{S:function(){return s}});var a=t(5216);async function s(e,n){let t=(0,a.L)(),s={...(null==n?void 0:n.headers)||{},Authorization:t?"Bearer ".concat(t):""};return await fetch("".concat("http://localhost:8000/api").concat(e),{...n,headers:s})}},5216:function(e,n,t){"use strict";function a(){return localStorage.getItem("evoria_token")||""}function s(e){localStorage.setItem("evoria_token",e)}t.d(n,{L:function(){return a},o:function(){return s}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=1966)}),_N_E=e.O()}]);