(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{9447:function(e,t,n){Promise.resolve().then(n.bind(n,2524))},2524:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(7437),a=n(2265),c=n(3102),r=n(495),i=n(6264);function o(){let[e,t]=(0,a.useState)([]),[n,o]=(0,a.useState)(""),[l,u]=(0,a.useState)("0"),[d,f]=(0,a.useState)("0"),x=async()=>{let e=await (0,i.S)("/admin/events");t((await e.json()).events||[])};(0,a.useEffect)(()=>{x()},[]);let h=e=>{o(e.id),u(e.feedPrice||"0"),f(e.screenPrice||"0")},m=async()=>{await (0,i.S)("/events/".concat(n,"/pricing"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedPrice:parseFloat(l||"0"),screenPrice:parseFloat(d||"0")})}),o(""),u("0"),f("0"),await x()};return(0,s.jsxs)("main",{className:"p-8 space-y-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Eventos"}),(0,s.jsxs)("div",{className:"space-y-3",children:[e.map(e=>(0,s.jsxs)("div",{className:"border rounded p-3 flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Feed: ",e.feedPrice||"0"," â€¢ Tel\xe3o: ",e.screenPrice||"0"]})]}),(0,s.jsx)(r.z,{onClick:()=>h(e),children:"Editar pre\xe7os"})]},e.id)),!e.length&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Sem eventos."})]}),n&&(0,s.jsxs)("div",{className:"space-y-3 max-w-md border rounded p-4",children:[(0,s.jsxs)("div",{children:["Evento: ",n]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{children:"\uD83E\uDE99 Feed"}),(0,s.jsx)(c.I,{value:l,onChange:e=>u(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{children:"\uD83E\uDE99 Tel\xe3o"}),(0,s.jsx)(c.I,{value:d,onChange:e=>f(e.target.value)})]}),(0,s.jsx)(r.z,{onClick:m,children:"Salvar"})]})]})}},495:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var s=n(7437);function a(e){let{className:t="",...n}=e;return(0,s.jsx)("button",{className:"px-4 py-2 rounded bg-black text-white ".concat(t),...n})}},3102:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var s=n(7437);function a(e){let{className:t="",...n}=e;return(0,s.jsx)("input",{className:"w-full border rounded px-3 py-2 ".concat(t),...n})}},6264:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var s=n(5216);async function a(e,t){let n=(0,s.L)(),a={...(null==t?void 0:t.headers)||{},Authorization:n?"Bearer ".concat(n):""};return await fetch("".concat("http://localhost:8000/api").concat(e),{...t,headers:a})}},5216:function(e,t,n){"use strict";function s(){return localStorage.getItem("evoria_token")||""}function a(e){localStorage.setItem("evoria_token",e)}n.d(t,{L:function(){return s},o:function(){return a}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=9447)}),_N_E=e.O()}]);