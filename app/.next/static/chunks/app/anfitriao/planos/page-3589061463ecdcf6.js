(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{3810:function(e,t,n){Promise.resolve().then(n.bind(n,1902))},1902:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(7437),s=n(2265),i=n(495),c=n(6264);function o(){let[e,t]=(0,s.useState)([]),[n,o]=(0,s.useState)(0);(0,s.useEffect)(()=>{(async()=>{let e=await (0,c.S)("/admin/plans");t((await e.json()).plans||[]);let n=await (0,c.S)("/host/quota");o((await n.json()).remainingEvents||0)})()},[]);let r=async(e,t)=>{let n=await (0,c.S)("/payments/plan/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:e,bundledEvents:t})}),a=await n.json();a.url&&(window.location.href=a.url)};return(0,a.jsxs)("main",{className:"p-8 space-y-6 max-w-2xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Planos"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Sua quota de eventos: ",n]}),(0,a.jsxs)("div",{className:"space-y-3",children:[e.map(e=>(0,a.jsxs)("div",{className:"border rounded p-3 flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.currency," ",e.price," â€¢ Eventos inclusos: ",e.bundledEvents||1]})]}),(0,a.jsx)(i.z,{onClick:()=>r(e.id,e.bundledEvents),children:"Comprar"})]},e.id)),!e.length&&(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Nenhum plano dispon\xedvel."})]})]})}},495:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var a=n(7437);function s(e){let{className:t="",...n}=e;return(0,a.jsx)("button",{className:"px-4 py-2 rounded bg-black text-white ".concat(t),...n})}},6264:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var a=n(5216);async function s(e,t){let n=(0,a.L)(),s={...(null==t?void 0:t.headers)||{},Authorization:n?"Bearer ".concat(n):""};return await fetch("".concat("http://localhost:8000/api").concat(e),{...t,headers:s})}},5216:function(e,t,n){"use strict";function a(){return localStorage.getItem("evoria_token")||""}function s(e){localStorage.setItem("evoria_token",e)}n.d(t,{L:function(){return a},o:function(){return s}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=3810)}),_N_E=e.O()}]);